(this.webpackJsonpui_address_book=this.webpackJsonpui_address_book||[]).push([[0],{133:function(e,n,t){},158:function(e,n,t){"use strict";t.r(n);var c=t(1),a=t(0),s=t.n(a),l=t(26),o=t.n(l),i=t(29),r=(t(131),t(10)),d=(t(132),t(133),t(51)),j=t(41),b=t(28),h=t(111),u=t.n(h).a.create({baseURL:"https://address-book-api-2021.herokuapp.com/api",headers:{"Content-type":"application/json"}}),m=function(){return u.get("/contacts")},O=function(){return u.get("/contacts/blacklist")},x=function(e){return u.get("/contacts/user/".concat(e))},p=function(e){return u.post("/contacts",e)},v=function(e,n){return u.put("/contacts/user/".concat(e),n)},g=function(e){return u.delete("/contacts/user/".concat(e))},f=function(){return u.delete("/contacts")},N=function(e){return u.get("/contacts?name=".concat(e))},C=t(171),k=t(159),y=t(170),w=t(63),_=function(e,n){switch(n.type){case"close":return{open:!1};case"open":return{open:!0,size:n.size};default:throw new Error("Unsupported action...")}},E=function(){var e=s.a.useReducer(_,{open:!1,size:void 0}),n=Object(b.a)(e,2),t=n[0],l=n[1],o=t.open,i=t.size,r=Object(a.useState)({id:null,name:"",email:"",phone_number:"",blocked:!1}),h=Object(b.a)(r,2),u=h[0],m=h[1],O=function(e){var n=e.target,t=n.name,c=n.value;m(Object(j.a)(Object(j.a)({},u),{},Object(d.a)({},t,c)))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return l({type:"open",size:"tiny"})},children:"Create Contact"}),Object(c.jsxs)(C.a,{size:i,open:o,onClose:function(){return l({type:"close"})},children:[Object(c.jsx)(C.a.Header,{children:"Create Contact"}),Object(c.jsxs)(C.a.Content,{children:[Object(c.jsxs)("h5",{children:[Object(c.jsx)("label",{className:"mr-3",htmlFor:"name",children:"Name:"}),Object(c.jsx)(y.a,{placeholder:"Enter name...",type:"text",id:"name",required:!0,value:u.name,onChange:O,name:"name"})]}),Object(c.jsxs)("h5",{children:[Object(c.jsx)("label",{className:"mr-3",htmlFor:"name",children:"Email:"}),Object(c.jsx)(y.a,{placeholder:"Enter email...",type:"text",id:"email",required:!0,value:u.email,onChange:O,name:"email"})]}),Object(c.jsxs)("h5",{children:[Object(c.jsx)("label",{className:"mr-3",htmlFor:"name",children:"Phone Number:"}),Object(c.jsx)(y.a,{placeholder:"Enter phone number...",type:"text",id:"phone_number",required:!0,value:u.phone_number,onChange:O,name:"phone_number"})]})]}),Object(c.jsxs)(C.a.Actions,{children:[Object(c.jsx)(k.a,{className:"float-left",negative:!0,onClick:function(){return l({type:"close"})},children:"Cancel"}),Object(c.jsx)(k.a,{positive:!0,onClick:function(){l({type:"close"}),function(){var e={name:u.name,email:u.email,phone_number:u.phone_number};p(e).then((function(e){m({id:e.data.id,name:e.data.name,email:e.data.email,phone_number:e.data.phone_number,blocked:e.data.blocked}),console.log(e.data)})).catch((function(e){console.log(e)})),window.location.reload()}()},children:"Create"})]})]})]})},z=function(e,n){switch(n.type){case"close":return{open:!1};case"open":return{open:!0,size:n.size};default:throw new Error("Unsupported action...")}},A=function(){var e=Object(a.useState)([]),n=Object(b.a)(e,2),t=n[0],l=n[1],o=Object(a.useState)([]),i=Object(b.a)(o,2),r=i[0],h=i[1],u=Object(a.useState)(null),p=Object(b.a)(u,2),_=p[0],A=p[1],S=Object(a.useState)(-1),F=Object(b.a)(S,2),B=F[0],H=F[1],P=Object(a.useState)(""),R=Object(b.a)(P,2),U=R[0],q=R[1];Object(a.useEffect)((function(){T(),V()}),[]);var D=s.a.useReducer(z,{open:!1,size:void 0}),J=Object(b.a)(D,2),L=J[0],W=J[1],I=L.open,K=L.size,T=function(){m().then((function(e){l(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},V=function(){O().then((function(e){h(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},Y=function(){T(),V(),A(null),H(-1)},$=function(e,n){H(n),x(e.id).then((function(e){A(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},G=function(e){var n=e.target,t=n.name,c=n.value;A(Object(j.a)(Object(j.a)({},_),{},Object(d.a)({},t,c)))},M=function(e){v(_.id,{blocked:e}).then((function(n){A(Object(j.a)(Object(j.a)({},_),{},{blocked:e}));w.a.success("Contact has been updated successfully!",{position:"top-right"}),console.log(n.data),Y()})).catch((function(e){console.log(e)}))},Q=t.filter((function(e){return!e.blocked}));return Object(c.jsxs)("div",{className:"mt-4",children:[Object(c.jsxs)("div",{className:"row mx-2",children:[Object(c.jsx)("div",{className:"col-md-3",children:Object(c.jsx)(E,{})}),Object(c.jsx)("div",{className:"col-md-5",children:Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by name",value:U,onChange:function(e){var n=e.target.value;q(n)}}),Object(c.jsx)("div",{className:"input-group-append",children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){N(U).then((function(e){l(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},children:"Search"})})]})}),Object(c.jsxs)("div",{className:"col-md-4",children:[Object(c.jsx)("span",{className:"btn btn-sm btn-danger float-right",onClick:function(){return W({type:"open",size:"mini"})},children:"Remove All"}),Object(c.jsxs)(C.a,{size:K,open:I,onClose:function(){return W({type:"close"})},children:[Object(c.jsx)(C.a.Header,{children:"Delete all Contacts"}),t.length>0?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a.Content,{children:Object(c.jsxs)("p",{children:["Are you sure you want to delete",Object(c.jsx)("b",{children:" All Contacts"})]})}),Object(c.jsxs)(C.a.Actions,{children:[Object(c.jsx)(k.a,{className:"float-left",negative:!0,onClick:function(){return W({type:"close"})},children:"Cancel"}),Object(c.jsx)(k.a,{positive:!0,onClick:function(){W({type:"close"}),f().then((function(e){w.a.success("All Contacts have been deleted successfully!",{position:"top-right"}),console.log(e.data),Y()})).catch((function(e){console.log(e)}))},children:"Delete All"})]})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(C.a.Content,{children:Object(c.jsxs)("p",{children:["You have ",Object(c.jsx)("b",{children:"0 Contacts"})]})}),Object(c.jsx)(C.a.Actions,{children:Object(c.jsx)(k.a,{negative:!0,onClick:function(){return W({type:"close"})},children:"Cancel"})})]})]})]})]}),Object(c.jsxs)("div",{className:"row mx-2 mt-3",children:[Object(c.jsxs)("div",{className:"col-md-3",children:[Object(c.jsxs)("h4",{children:["BlackList",Object(c.jsx)("span",{class:"badge badge-primary badge-sm badge-pill ml-2",children:r.length})]}),Object(c.jsx)("ul",{className:"list-group",children:r&&r.map((function(e,n){return Object(c.jsx)("li",{className:"list-group-item "+(-n===B?"active":""),onClick:function(){return $(e,-n)},children:e.name},n)}))})]}),U?Object(c.jsxs)("div",{className:"col-md-5",children:[Object(c.jsxs)("h4",{children:["Found ",t.length," Contacts"]}),Object(c.jsx)("ul",{className:"list-group",children:t&&t.map((function(e,n){return Object(c.jsx)("li",{className:"list-group-item "+(n===B?"active":""),onClick:function(){return $(e,n)},children:e.name},n)}))})]}):Object(c.jsxs)("div",{className:"col-md-5",children:[Object(c.jsxs)("h4",{children:["Contacts",Object(c.jsx)("span",{class:"badge badge-primary badge-sm badge-pill ml-2",children:Q.length})]}),Object(c.jsx)("ul",{className:"list-group",children:t&&t.map((function(e,n){return!e.blocked&&Object(c.jsx)("li",{className:"list-group-item "+(n===B?"active":""),onClick:function(){return $(e,n)},children:e.name},n)}))})]}),Object(c.jsx)("div",{className:"col-md-4",children:_?Object(c.jsx)("div",{className:"card",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"Contact"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Name:"})})," ",_.name]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Email:"})})," ",_.email]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Phone Number:"})})," ",_.phone_number]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("strong",{children:"Status:"})})," ",_.blocked?"Blocked":"Active"]}),_.id?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{className:"badge badge-primary",role:"button",onClick:function(){return W({type:"open",size:"tiny"})},children:"Edit"}),Object(c.jsxs)(C.a,{size:K,open:I,onClose:function(){return W({type:"close"})},children:[Object(c.jsx)(C.a.Header,{children:"Edit Contact"}),Object(c.jsxs)(C.a.Content,{children:[Object(c.jsxs)("h5",{children:[Object(c.jsx)("label",{className:"mr-3",htmlFor:"name",children:"Name:"}),Object(c.jsx)(y.a,{placeholder:"Enter name...",type:"text",id:"name",name:"name",value:_.name,onChange:G})]}),Object(c.jsxs)("h5",{children:[Object(c.jsx)("label",{className:"mr-3",htmlFor:"name",children:"Email:"}),Object(c.jsx)(y.a,{placeholder:"Enter email...",type:"text",id:"email",name:"email",value:_.email,onChange:G})]}),Object(c.jsxs)("h5",{children:[Object(c.jsx)("label",{className:"mr-3",htmlFor:"name",children:"Phone Number:"}),Object(c.jsx)(y.a,{placeholder:"Enter phone number...",type:"text",id:"phone_number",name:"phone_number",value:_.phone_number,onChange:G})]})]}),Object(c.jsxs)(C.a.Actions,{children:[Object(c.jsx)(k.a,{className:"float-left",negative:!0,onClick:function(){return W({type:"close"})},children:"Cancel"}),Object(c.jsx)(k.a,{positive:!0,onClick:function(){W({type:"close"}),v(_.id,_).then((function(e){console.log(e.data),w.a.success("Contact has been updated successfully!",{position:"top-right"}),Y()})).catch((function(e){console.log(e)}))},children:"Save"})]})]})]}):Object(c.jsx)("span",{}),_.blocked?Object(c.jsx)("span",{className:"badge badge-warning mx-2",role:"button",onClick:function(){return M(!1)},children:"UnBlock"}):Object(c.jsx)("span",{className:"badge badge-warning mx-2",role:"button",onClick:function(){return M(!0)},children:"Block"}),Object(c.jsx)("span",{className:"badge badge-danger",role:"button",onClick:function(){g(_.id).then((function(e){w.a.success("Contact has been delete successfully!",{position:"top-right"}),console.log(e.data),Y()})).catch((function(e){console.log(e)}))},children:"Delete"})]})})}):Object(c.jsx)("div",{children:Object(c.jsx)("p",{children:"Please click on a Contact..."})})})]})]})},S=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-primary",children:[Object(c.jsx)("a",{href:"/contacts",className:"navbar-brand",children:"Address Book"}),Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/",className:"nav-link",children:"Home"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(i.b,{to:"/about",className:"nav-link",children:"About"})})]}),Object(c.jsx)("ul",{className:"nav navbar-nav navbar-right",children:Object(c.jsx)("li",{className:"nav-item navbar-right",children:Object(c.jsxs)(i.b,{to:"/contacts",className:"nav-link avatar",children:[Object(c.jsx)("img",{className:"rounded-circle mr-2",src:"https://cdn3.iconfinder.com/data/icons/business-avatar-1/512/11_avatar-512.png",width:"5%",alt:"Avatar"}),"Krasivaya"]})})})]})})},F=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-1"}),Object(c.jsx)("div",{className:"col-md-10",children:Object(c.jsxs)("div",{className:"jumbotron",children:[Object(c.jsx)("h3",{className:"display-3",children:"Address Book"}),Object(c.jsx)("p",{className:"lead",children:"This is a simple address book, where you can add and view people in your contact list or blacklist them with a privilege to edit and remove them anytime."}),Object(c.jsx)("hr",{className:"my-4"}),Object(c.jsx)("p",{children:"Start using it now!"}),Object(c.jsx)("p",{className:"lead text-center",children:Object(c.jsx)(i.b,{className:"btn btn-primary btn-lg",to:"/",role:"button",children:"View Contacts"})})]})}),Object(c.jsx)("div",{className:"col-md-1"})]})})})},B=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(S,{}),Object(c.jsxs)(r.c,{children:[Object(c.jsx)(r.a,{exact:!0,path:["/","/contacts"],component:A}),Object(c.jsx)(r.a,{exact:!0,path:"/address-book-ui/about",component:F})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(c.jsx)(i.a,{children:Object(c.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[158,1,2]]]);
//# sourceMappingURL=main.3903620b.chunk.js.map